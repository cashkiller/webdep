$(function(){if($("input[name='payment[paymentMethod]']:checked").val()!="credit-card"){hideCardForm();showPaypalForm()}$("input[name='payment[paymentMethod]']").change(function(){if($("input[name='payment[paymentMethod]']:checked").val()=="credit-card"){showCardForm()}else if($("input[name='payment[paymentMethod]']:checked").val()=="paypal"){showPaypalForm()}else{hideCardForm()}})});function showCardForm(){$("#credit-card-form").show();$("#paypal-container").hide();$("#pay-now").show()}function showPaypalForm(){$("#credit-card-form").hide();$("#paypal-container").show();$("#pay-now").hide()}function hideCardForm(){$("#credit-card-form").hide();$("#paypal-container").show()}function setupNonce(obj,url){var paymentMethod=$("input[name='payment[paymentMethod]']:checked").val();var term=$("input[name='payment[term]']:checked").val();var postData={nonce:obj,paymentMethod:paymentMethod,term:term};$.post(url,postData,nonceSuccess)}function nonceSuccess(result){if(result.code==200){if(result.redirect){window.location.replace(result.redirect)}}else{addPaypalError("There was an error processing the payment. Please try again or contact support.")}}function addPaypalError(error){var html='<div class="row"><div class="col-md-8 col-md-offset-2 text-center"><div class="alert alert-danger"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>'+error+"</div></div></div>";$("#paypal-payment").before(html)}